# 表结构对比说明

## 问题确认

之前的SQL脚本错误地使用了 `data-dome-master` 项目的表结构，而不是当前数据模型管理平台的表结构。

## 主要差异

### 1. 业务域表

**错误的（data-dome-master项目）：**
- 表名：`datamodel_business_domain`
- 字段：
  - `id` BIGINT
  - `domain_code` VARCHAR(100)
  - `domain_name` VARCHAR(255)
  - `datasource_id` BIGINT ❌（当前平台没有此字段）
  - `create_time`, `update_time`
  - `status`, `is_deleted`

**正确的（当前数据模型管理平台）：**
- 表名：`business_domains`
- 字段：
  - `id` UUID
  - `code` VARCHAR(100)
  - `name` VARCHAR(255)
  - `display_name` VARCHAR(255)
  - `description` TEXT
  - `metadata` JSONB
  - `created_at` TIMESTAMP
  - `updated_at` TIMESTAMP
  - ❌ **没有** `datasource_id` 字段
  - ❌ **没有** `status` 和 `is_deleted` 字段

### 2. 对象类型表

**错误的（data-dome-master项目）：**
- 表名：`datamodel_object_type`
- 字段：`object_type_code`, `object_type_name`, `create_time`, `update_time`, `status`, `is_deleted`

**正确的（当前数据模型管理平台）：**
- 表名：`object_types`
- 字段：`name`, `display_name`, `created_at`, `updated_at`, `created_by`, `updated_by`

### 3. 属性表

**错误的（data-dome-master项目）：**
- 表名：`datamodel_property`
- 字段：`property_code`, `property_name`, `field_name`, `field_type`, `create_time`, `update_time`

**正确的（当前数据模型管理平台）：**
- 表名：`properties`
- 字段：`name`, `data_type`, `description`, `required`, `default_value`, `constraints`, `created_at`, `updated_at`

### 4. 链接类型表

**错误的（data-dome-master项目）：**
- 表名：`datamodel_link_type`
- 字段：`link_type_code`, `link_type_name`, `create_time`, `update_time`

**正确的（当前数据模型管理平台）：**
- 表名：`link_types`
- 字段：`name`, `display_name`, `created_at`, `updated_at`, `created_by`, `updated_by`

## 修正后的SQL文件

已创建修正版SQL脚本：
- `省中心联网收费业务数据模型-完整版-修正版.sql` - 主SQL脚本（业务域、对象类型、链接类型）
- 属性补充SQL需要根据当前平台的表结构重新生成

## 下一步

需要更新属性补充SQL生成脚本，使其生成符合当前平台表结构的属性SQL。


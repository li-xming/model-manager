# 快速启动指南

## 方式一：使用IDE启动（推荐）

### IntelliJ IDEA

1. **打开项目**
   - File -> Open -> 选择 `backend` 目录

2. **等待Maven依赖下载**
   - IDEA会自动识别Maven项目并下载依赖

3. **配置数据库**
   - 修改 `src/main/resources/application.yml` 中的数据库连接信息

4. **运行项目**
   - 找到 `DataModelApplication.java`
   - 右键 -> Run 'DataModelApplication.main()'

5. **访问API文档**
   - 浏览器打开：http://localhost:8080/api/doc.html

### Eclipse / VS Code

类似步骤，打开Maven项目后运行主类。

---

## 方式二：命令行启动

### 前提条件

1. **安装Maven**
   - 下载：https://maven.apache.org/download.cgi
   - 解压并配置环境变量：
     - `MAVEN_HOME` = Maven安装目录
     - `PATH` 添加 `%MAVEN_HOME%\bin`

2. **配置数据库**
   - 启动PostgreSQL服务
   - 创建数据库：`CREATE DATABASE datamodel;`
   - 执行SQL脚本：`src/main/resources/db/migration/V1__Initial_schema.sql`
   - 修改 `application.yml` 中的数据库连接信息

### Windows

```bash
# 进入backend目录
cd backend

# 方式1：使用启动脚本（推荐）
start.bat

# 方式2：手动执行
mvn clean compile
mvn spring-boot:run
```

### Linux/Mac

```bash
# 进入backend目录
cd backend

# 添加执行权限
chmod +x start.sh

# 方式1：使用启动脚本（推荐）
./start.sh

# 方式2：手动执行
mvn clean compile
mvn spring-boot:run
```

---

## 方式三：打包后启动

```bash
# 打包
mvn clean package

# 启动
java -jar target/data-model-platform-1.0.0-SNAPSHOT.jar
```

---

## 验证启动

启动成功后访问：

- **API文档**: http://localhost:8080/api/doc.html
- **Swagger JSON**: http://localhost:8080/api/v3/api-docs

### 测试API

使用curl或Postman测试：

```bash
# 创建对象类型
curl -X POST http://localhost:8080/api/v1/object-types \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Customer",
    "displayName": "客户",
    "description": "客户实体"
  }'
```

---

## 常见问题

### 1. Maven未找到

**错误**: `mvn 不是内部或外部命令`

**解决**: 
- 安装Maven并配置环境变量
- 或使用IDE打开项目（推荐）

### 2. 数据库连接失败

**错误**: `Connection refused` 或 `Authentication failed`

**解决**:
- 检查PostgreSQL服务是否启动
- 检查 `application.yml` 中的数据库配置
- 确认数据库已创建

### 3. 端口被占用

**错误**: `Port 8080 is already in use`

**解决**:
- 修改 `application.yml` 中的 `server.port` 为其他端口
- 或关闭占用8080端口的程序

### 4. 编译错误

**解决**:
- 确保JDK版本为1.8
- 检查IDE是否正确配置了Maven
- 清理并重新编译：`mvn clean compile`

---

## 下一步

项目启动后，你可以：

1. **浏览API文档** - 访问 http://localhost:8080/api/doc.html
2. **创建数据模型** - 通过API创建对象类型、属性、链接类型等
3. **管理实例** - 创建和管理数据实例
4. **查询关系** - 使用查询引擎查询数据关系

更多信息请参考 `README.md` 和 `docs/design-and-development-plan.md`

